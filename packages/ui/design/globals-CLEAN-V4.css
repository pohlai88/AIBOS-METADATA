/**
 * AIBOS Design System - Tailwind CSS v4
 * 
 * Reference: https://tailwindcss.com/docs/installation/using-postcss
 * 
 * Tailwind v4 Philosophy:
 * 1. @import "tailwindcss" - Single import (no more @tailwind base/components/utilities)
 * 2. @theme directive - CSS-first configuration (NEW v4!)
 * 3. tailwind.config.js - OPTIONAL (only if you need complex customization)
 * 
 * For most projects, @theme alone is enough!
 */

/* ============================================ */
/* STEP 1: IMPORT TAILWIND                     */
/* ============================================ */
@import "tailwindcss";

/* ============================================ */
/* STEP 2: @THEME - CSS-FIRST CONFIGURATION    */
/* This generates utilities automatically!     */
/* ============================================ */
@theme {
  /* Spacing (8-point grid) - Generates: p-*, m-*, gap-*, w-*, h-* */
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-5: 1.5rem;
  --spacing-6: 2rem;
  --spacing-7: 2.5rem;
  --spacing-8: 3rem;
  --spacing-10: 4rem;
  --spacing-12: 6rem;

  /* Typography - Generates: text-*, font-* */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;
  --font-size-6xl: 3.75rem;

  /* Colors - Generates: bg-*, text-*, border-* */
  --color-primary: oklch(0.62 0.25 250);
  --color-primary-hover: oklch(0.55 0.27 250);
  --color-success: oklch(0.65 0.20 150);
  --color-warning: oklch(0.75 0.18 70);
  --color-danger: oklch(0.60 0.24 25);

  /* Shadows - Generates: shadow-* */
  --shadow-raised: 0 1px 3px 0 rgb(0 0 0 / 0.1);
  --shadow-floating: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-overlay: 0 10px 15px -3px rgb(0 0 0 / 0.1);

  /* Animations - Generates: transition-*, duration-*, ease-* */
  --ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
  --duration-fast: 120ms;
  --duration-normal: 200ms;

  /* Container queries - Generates: @sm:, @md:, @lg:, etc. */
  --container-sm: 24rem;
  --container-md: 28rem;
  --container-lg: 32rem;

  /* 3D transforms - Generates: perspective-*, rotate-x-*, etc. */
  --perspective-normal: 1000px;
  --perspective-distant: 1500px;
}

/* ============================================ */
/* STEP 3: CUSTOM DESIGN TOKENS                */
/* These don't auto-generate utilities         */
/* Used for manual CSS or mapped in config.js */
/* ============================================ */

:root {
  /* Advanced color tokens (for tailwind.config.js mapping) */
  --color-text-base: 17 24 39;
  --color-text-muted: 107 114 128;
  --color-background-base: 255 255 255;
  --color-background-subtle: 249 250 251;
  --color-border-base: 229 231 235;

  /* Domain-specific tokens */
  --color-metadata-glossary: 59 130 246;
  --color-metadata-lineage: 139 92 246;
  --color-finance-revenue: 16 185 129;
  --color-finance-expense: 239 68 68;
  --color-tier-1: 239 68 68;
  --color-tier-2: 245 158 11;
}

/* Dark theme */
.dark {
  --color-text-base: 243 244 246;
  --color-text-muted: 156 163 175;
  --color-background-base: 17 24 39;
  --color-background-subtle: 31 41 55;
  --color-border-base: 75 85 99;
  
  color-scheme: dark; /* Native scrollbar theming */
}

:root {
  color-scheme: light;
}

/* ============================================ */
/* STEP 4: @LAYER UTILITIES (Custom)           */
/* ============================================ */

@layer utilities {
  /* Glassmorphism */
  .glass {
    backdrop-filter: blur(12px);
    background-color: color-mix(in srgb, rgb(var(--color-background-base)) 80%, transparent);
    border: 1px solid color-mix(in srgb, rgb(var(--color-border-base)) 20%, transparent);
  }

  /* Text gradients */
  .text-gradient {
    background: linear-gradient(to right, oklch(0.62 0.25 250), oklch(0.65 0.20 150));
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* 3D card effects */
  .card-3d {
    transform-style: preserve-3d;
    transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .card-3d:hover {
    transform: rotateX(5deg) rotateY(-5deg);
  }

  /* Animations */
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 10px oklch(0.62 0.25 250 / 0.3); }
    50% { box-shadow: 0 0 20px oklch(0.62 0.25 250 / 0.6); }
  }

  .animate-fade-in {
    animation: fade-in 0.5s ease-out;
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s infinite;
  }
}

/* ============================================ */
/* STEP 5: @VARIANT (Custom State Modifiers)   */
/* ============================================ */

/* Both hover AND focus */
@variant hocus (&:hover, &:focus);
@variant group-hocus (.group:hover &, .group:focus &);

/* Data attributes */
@variant data-active (&[data-active="true"]);

/* ============================================ */
/* STEP 6: BASE STYLES                         */
/* ============================================ */

body {
  font-family: system-ui, -apple-system, sans-serif;
  color: rgb(var(--color-text-base));
  background-color: rgb(var(--color-background-base));
}

/* ============================================ */
/* STEP 7: ACCESSIBILITY                       */
/* ============================================ */

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

