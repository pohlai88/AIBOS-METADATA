/**
 * AIBOS Design System - Controlled Vocabulary for Styling
 * 
 * This CSS acts as the "Central Nervous System" for visual design.
 * Only approved tokens can be used across all applications.
 * 
 * Three Layers:
 * 1. Base Directives (Tailwind CSS foundation)
 * 2. Design Tokens (Light theme - the controlled vocabulary)
 * 3. Theme Overrides (Dark theme)
 */

/* ============================================ */
/* LAYER 1: BASE DIRECTIVES                    */
/* ============================================ */
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* ============================================ */
/* LAYER 2: DESIGN TOKENS (LIGHT THEME)        */
/* The Controlled Vocabulary for Styling       */
/* ============================================ */

:root {
  /* ===== CORE COLORS (RGB format for opacity support) ===== */
  
  /* Primary Brand */
  --color-primary-rgb: 59 130 246;        /* blue-500 */
  --color-primary-hover-rgb: 37 99 235;   /* blue-600 */
  
  /* Semantic Colors */
  --color-success-rgb: 16 185 129;        /* green-500 */
  --color-warning-rgb: 245 158 11;        /* amber-500 */
  --color-danger-rgb: 239 68 68;          /* red-500 */
  --color-info-rgb: 14 165 233;           /* sky-500 */
  
  /* ===== TEXT COLORS ===== */
  /* Note: In Tailwind config, these map to 'fg' (foreground) to avoid conflicts */
  /* Usage: text-fg, text-fg-muted, text-fg-subtle */
  --color-text-base: 17 24 39;            /* gray-900 - Primary text */
  --color-text-muted: 107 114 128;        /* gray-500 - Secondary text */
  --color-text-subtle: 156 163 175;       /* gray-400 - Tertiary text */
  
  /* ===== BACKGROUND COLORS ===== */
  --color-background-base: 255 255 255;   /* white - Main background */
  --color-background-subtle: 249 250 251; /* gray-50 - Subtle background */
  --color-background-muted: 243 244 246;  /* gray-100 - Cards, panels */
  
  /* ===== BORDER COLORS ===== */
  --color-border-base: 229 231 235;       /* gray-200 - Default borders */
  --color-border-muted: 243 244 246;      /* gray-100 - Subtle borders */
  
  /* ===== METADATA-SPECIFIC TOKENS ===== */
  /* These align with your OpenMetadata-inspired UI */
  
  --color-metadata-glossary: 59 130 246;       /* blue-500 - Glossary */
  --color-metadata-lineage: 139 92 246;        /* purple-500 - Lineage */
  --color-metadata-quality: 16 185 129;        /* green-500 - Data Quality */
  --color-metadata-governance: 245 158 11;     /* amber-500 - Governance */
  --color-metadata-tags: 236 72 153;           /* pink-500 - Tags */
  --color-metadata-kpi: 14 165 233;            /* sky-500 - KPIs */
  
  /* Finance Domain Colors (IFRS/MFRS aligned) */
  --color-finance-revenue: 16 185 129;         /* green-500 */
  --color-finance-expense: 239 68 68;          /* red-500 */
  --color-finance-asset: 59 130 246;           /* blue-500 */
  --color-finance-liability: 245 158 11;       /* amber-500 */
  --color-finance-equity: 139 92 246;          /* purple-500 */
  
  /* ===== TIER BADGES (Governance Tiers) ===== */
  --color-tier-1: 239 68 68;              /* red-500 - Critical */
  --color-tier-2: 245 158 11;             /* amber-500 - Important */
  --color-tier-3: 59 130 246;             /* blue-500 - Standard */
  --color-tier-4: 107 114 128;            /* gray-500 - Low priority */
  
  /* ===== SPACING TOKENS (8-POINT GRID CONSTITUTION) ===== */
  /* All spacing must be multiples of 4px (base) or 8px (structural) */
  /* Figma variables: space/1 through space/12 */
  --spacing-1: 0.25rem;    /* 4px  - Micro spacing */
  --spacing-2: 0.5rem;     /* 8px  - Tight spacing */
  --spacing-3: 0.75rem;    /* 12px - Small spacing */
  --spacing-4: 1rem;       /* 16px - Base spacing */
  --spacing-5: 1.5rem;     /* 24px - Medium spacing */
  --spacing-6: 2rem;       /* 32px - Large spacing */
  --spacing-7: 2.5rem;     /* 40px - XL spacing */
  --spacing-8: 3rem;       /* 48px - 2XL spacing */
  --spacing-10: 4rem;      /* 64px - 3XL spacing (section gaps) */
  --spacing-12: 6rem;      /* 96px - 4XL spacing (major sections) */
  
  /* Legacy aliases (deprecated - use numbered scale) */
  --spacing-xs: var(--spacing-1);
  --spacing-sm: var(--spacing-2);
  --spacing-md: var(--spacing-4);
  --spacing-lg: var(--spacing-5);
  --spacing-xl: var(--spacing-6);
  --spacing-2xl: var(--spacing-8);
  
  /* ===== TYPOGRAPHY TOKENS ===== */
  --font-family-base: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 
                      Roboto, 'Helvetica Neue', Arial, sans-serif;
  --font-family-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', 
                      Consolas, 'Courier New', monospace;
  
  /* Font Sizes (Type Scale Constitution - ~1.25 ratio) */
  /* Base: 16px, Scale: 1.2-1.25 for readability */
  /* Figma variables: type/size/xs through type/size/6xl */
  --font-size-xs: 0.75rem;     /* 12px - Small labels, captions */
  --font-size-sm: 0.875rem;    /* 14px - Secondary text, small UI */
  --font-size-base: 1rem;      /* 16px - Body text (BASE) */
  --font-size-lg: 1.125rem;    /* 18px - Large body, subtitles */
  --font-size-xl: 1.25rem;     /* 20px - H3, emphasized text */
  --font-size-2xl: 1.5rem;     /* 24px - H2, section headings */
  --font-size-3xl: 1.875rem;   /* 30px - H1, page titles */
  --font-size-4xl: 2.25rem;    /* 36px - Display headings */
  --font-size-5xl: 3rem;       /* 48px - Hero headings */
  --font-size-6xl: 3.75rem;    /* 60px - Marketing hero */
  
  /* ===== MOTION TOKENS (TIME LAYER CONSTITUTION) ===== */
  /* All animations must use approved duration + easing */
  /* Figma variables: motion/duration/fast, motion/ease/standard */
  --motion-duration-instant: 50ms;    /* Instant feedback (checkbox, toggle) */
  --motion-duration-fast: 120ms;      /* Fast transitions (hover, focus) */
  --motion-duration-normal: 200ms;    /* Normal transitions (modals, dropdowns) */
  --motion-duration-slow: 280ms;      /* Slow transitions (page transitions) */
  --motion-duration-slower: 400ms;    /* Slower transitions (complex animations) */
  
  /* Motion Easing Functions (Bezier Curves) */
  --motion-ease-standard: cubic-bezier(0.4, 0, 0.2, 1);  /* Standard easing */
  --motion-ease-in: cubic-bezier(0.4, 0, 1, 1);          /* Deceleration */
  --motion-ease-out: cubic-bezier(0, 0, 0.2, 1);         /* Acceleration */
  --motion-ease-in-out: cubic-bezier(0.4, 0, 0.6, 1);    /* Both */
  --motion-ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Bounce */
  
  /* ===== SHADOWS (DEPTH LAYER CONSTITUTION) ===== */
  /* Elevation levels for virtual Z-axis */
  /* Figma variables: shadow/raised, shadow/overlay */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  
  /* Elevation (Semantic Shadow Naming) */
  --shadow-raised: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);     /* Cards, raised surfaces */
  --shadow-floating: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); /* Dropdowns, popovers */
  --shadow-overlay: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); /* Modals, dialogs */
  --shadow-high: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);   /* Highest elevation */
  
  /* ===== BORDER RADIUS ===== */
  --radius-sm: 0.25rem;   /* 4px */
  --radius-md: 0.375rem;  /* 6px */
  --radius-lg: 0.5rem;    /* 8px */
  --radius-xl: 0.75rem;   /* 12px */
  --radius-2xl: 1rem;     /* 16px */
  --radius-full: 9999px;  /* Fully rounded */
  
  /* ===== LAYOUT TOKENS (PROPORTION CONSTITUTION) ===== */
  /* Max-width constraints for responsive layouts */
  /* Figma variables: layout/maxWidth/sm through layout/maxWidth/full */
  --layout-max-width-sm: 640px;   /* Small content (mobile-first) */
  --layout-max-width-md: 768px;   /* Medium content (tablets) */
  --layout-max-width-lg: 1024px;  /* Large content (desktop) */
  --layout-max-width-xl: 1280px;  /* XL content (wide desktop) */
  --layout-max-width-2xl: 1536px; /* 2XL content (ultra-wide) */
  --layout-max-width-full: 100%;  /* Full-width */
  
  /* Sidebar widths (fixed sidebars) */
  --layout-sidebar-width: 280px;  /* Standard left nav */
  --layout-sidebar-width-collapsed: 64px; /* Collapsed icon nav */
  
  /* Content proportions (75% rule) */
  --layout-content-main: 75%;     /* Main content area */
  --layout-content-sidebar: 25%;  /* Sidebar/aside area */
}

/* ============================================ */
/* LAYER 3: DARK THEME OVERRIDES               */
/* ============================================ */

.dark {
  /* Core Colors - Inverted for dark mode */
  --color-primary-rgb: 96 165 250;        /* blue-400 - Lighter for contrast */
  --color-primary-hover-rgb: 59 130 246;  /* blue-500 */
  
  /* Text Colors - Inverted */
  --color-text-base: 243 244 246;         /* gray-100 - Primary text */
  --color-text-muted: 156 163 175;        /* gray-400 - Secondary text */
  --color-text-subtle: 107 114 128;       /* gray-500 - Tertiary text */
  
  /* Background Colors - Inverted */
  --color-background-base: 17 24 39;      /* gray-900 - Main background */
  --color-background-subtle: 31 41 55;    /* gray-800 - Subtle background */
  --color-background-muted: 55 65 81;     /* gray-700 - Cards, panels */
  
  /* Border Colors - Inverted */
  --color-border-base: 75 85 99;          /* gray-600 - Default borders */
  --color-border-muted: 55 65 81;         /* gray-700 - Subtle borders */
  
  /* Shadows - Softer in dark mode (use white with lower opacity) */
  --shadow-raised: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.2);
  --shadow-floating: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.2);
  --shadow-overlay: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
  --shadow-high: 0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.4);
  
  /* Metadata Colors - Adjusted for dark mode */
  --color-metadata-glossary: 96 165 250;       /* blue-400 */
  --color-metadata-lineage: 167 139 250;       /* purple-400 */
  --color-metadata-quality: 52 211 153;        /* green-400 */
  --color-metadata-governance: 251 191 36;     /* amber-400 */
  --color-metadata-tags: 244 114 182;          /* pink-400 */
  --color-metadata-kpi: 56 189 248;            /* sky-400 */
  
  /* Finance Colors - Adjusted */
  --color-finance-revenue: 52 211 153;         /* green-400 */
  --color-finance-expense: 248 113 113;        /* red-400 */
  --color-finance-asset: 96 165 250;           /* blue-400 */
  --color-finance-liability: 251 191 36;       /* amber-400 */
  --color-finance-equity: 167 139 250;         /* purple-400 */
}

/* ============================================ */
/* BASE STYLES                                  */
/* ============================================ */

body {
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  line-height: 1.5;
  color: rgb(var(--color-text-base));
  background-color: rgb(var(--color-background-base));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ============================================ */
/* UTILITY CLASSES (Custom)                     */
/* ============================================ */

/* Metadata Spotlight Card (from your UI) */
.spotlight-card {
  position: relative;
  overflow: hidden;
  border-radius: var(--radius-lg);
  background-color: rgb(var(--color-background-muted));
  border: 1px solid rgb(var(--color-border-base));
  transition: all 0.3s ease;
}

.spotlight-card:hover {
  border-color: rgb(var(--color-primary-rgb));
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

/* Tier Badges */
.badge-tier-1 {
  background-color: rgb(var(--color-tier-1) / 0.1);
  color: rgb(var(--color-tier-1));
  font-weight: 600;
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-md);
  font-size: var(--font-size-xs);
}

.badge-tier-2 {
  background-color: rgb(var(--color-tier-2) / 0.1);
  color: rgb(var(--color-tier-2));
  font-weight: 600;
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-md);
  font-size: var(--font-size-xs);
}

/* SDK Version Badge */
.sdk-version-badge {
  background-color: rgb(var(--color-primary-rgb) / 0.1);
  color: rgb(var(--color-primary-rgb));
  font-family: var(--font-family-mono);
  font-size: var(--font-size-xs);
  font-weight: 600;
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--radius-md);
}

/* ============================================ */
/* ACCESSIBILITY                                */
/* ============================================ */

/* Focus visible for keyboard navigation */
*:focus-visible {
  outline: 2px solid rgb(var(--color-primary-rgb));
  outline-offset: 2px;
}

/* ============================================ */
/* ACCESSIBILITY: REDUCED MOTION               */
/* ============================================ */

/**
 * Premium approach: Override motion tokens instead of brute-force !important.
 * Because all Tailwind utilities use these tokens, the entire app
 * respects reduced motion without changing any component code.
 */
@media (prefers-reduced-motion: reduce) {
  :root {
    --motion-duration-instant: 0ms;
    --motion-duration-fast: 0ms;
    --motion-duration-normal: 0ms;
    --motion-duration-slow: 0ms;
    --motion-duration-slower: 0ms;
  }
  
  /* Fallback for any animations not using tokens */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
}

